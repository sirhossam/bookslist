{"ast":null,"code":"import _classCallCheck from \"D:\\\\web\\\\projects\\\\New folder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\web\\\\projects\\\\New folder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\web\\\\projects\\\\New folder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\web\\\\projects\\\\New folder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\web\\\\projects\\\\New folder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\web\\\\projects\\\\New folder\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { debounce } from 'throttle-debounce';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport ListBooks from './ListBooks';\nimport SearchBooks from './SearchBooks';\nvar bookshelves = [{\n  key: 'currentlyReading',\n  name: 'Currently Reading'\n}, {\n  key: 'wantToRead',\n  name: 'Want to Read'\n}, {\n  key: 'read',\n  name: 'Read'\n}];\n\nvar BooksApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BooksApp, _Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      myBooks: [],\n      searchBooks: [],\n      error: false\n    };\n\n    _this.componentDidMount = function () {\n      BooksAPI.getAll().then(function (books) {\n        _this.setState({\n          myBooks: books\n        });\n      }).catch(function (err) {\n        console.log(err);\n\n        _this.setState({\n          error: true\n        });\n      });\n    };\n\n    _this.moveBook = function (book, shelf) {\n      BooksAPI.update(book, shelf).catch(function (err) {\n        console.log(err);\n\n        _this.setState({\n          error: true\n        });\n      });\n\n      if (shelf === 'none') {\n        _this.setState(function (prevState) {\n          return {\n            myBooks: prevState.myBooks.filter(function (b) {\n              return b.id !== book.id;\n            })\n          };\n        });\n      } else {\n        book.shelf = shelf;\n\n        _this.setState(function (prevState) {\n          return {\n            myBooks: prevState.myBooks.filter(function (b) {\n              return b.id !== book.id;\n            }).concat(book)\n          };\n        });\n      }\n    };\n\n    _this.searchForBooks = debounce(300, false, function (query) {\n      if (query.length > 0) {\n        BooksAPI.search(query).then(function (books) {\n          if (books.error) {\n            _this.setState({\n              searchBooks: []\n            });\n          } else {\n            _this.setState({\n              searchBooks: books\n            });\n          }\n        });\n      } else {\n        _this.setState({\n          searchBooks: []\n        });\n      }\n    });\n\n    _this.resetSearch = function () {\n      _this.setState({\n        searchBooks: []\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          myBooks = _this$state.myBooks,\n          searchBooks = _this$state.searchBooks,\n          error = _this$state.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Network error. Please try again later.\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(ListBooks, {\n            bookshelves: bookshelves,\n            books: myBooks,\n            onMove: _this2.moveBook,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return React.createElement(SearchBooks, {\n            searchBooks: searchBooks,\n            myBooks: myBooks,\n            onSearch: _this2.searchForBooks,\n            onMove: _this2.moveBook,\n            onResetSearch: _this2.resetSearch,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BooksApp;\n}(Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["D:\\web\\projects\\New folder\\src\\App.js"],"names":["React","Component","Route","debounce","BooksAPI","ListBooks","SearchBooks","bookshelves","key","name","BooksApp","state","myBooks","searchBooks","error","componentDidMount","getAll","then","books","setState","catch","err","console","log","moveBook","book","shelf","update","prevState","filter","b","id","concat","searchForBooks","query","length","search","resetSearch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { debounce } from 'throttle-debounce';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport ListBooks from './ListBooks';\nimport SearchBooks from './SearchBooks';\n\nconst bookshelves = [\n  { key: 'currentlyReading', name: 'Currently Reading' },\n  { key: 'wantToRead', name: 'Want to Read' },\n  { key: 'read', name: 'Read' }\n];\nclass BooksApp extends Component {\n  state = {\n    myBooks: [],\n    searchBooks: [],\n    error: false\n  };\n  componentDidMount = () => {\n    BooksAPI.getAll()\n      .then(books => {\n        this.setState({ myBooks: books });\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({ error: true });\n      });\n  };\n  moveBook = (book, shelf) => {\n    BooksAPI.update(book, shelf).catch(err => {\n      console.log(err);\n      this.setState({ error: true });\n    });\n    if (shelf === 'none') {\n      this.setState(prevState => ({\n        myBooks: prevState.myBooks.filter(b => b.id !== book.id)\n      }));\n    } else {\n      book.shelf = shelf;\n      this.setState(prevState => ({\n        myBooks: prevState.myBooks.filter(b => b.id !== book.id).concat(book)\n      }));\n    }\n  };\n  searchForBooks = debounce(300, false, query => {\n    if (query.length > 0) {\n      BooksAPI.search(query).then(books => {\n        if (books.error) {\n          this.setState({ searchBooks: [] });\n        } else {\n          this.setState({ searchBooks: books });\n        }\n      });\n    } else {\n      this.setState({ searchBooks: [] });\n    }\n  });\n  resetSearch = () => {\n    this.setState({ searchBooks: [] });\n  };\n\n  render() {\n    const { myBooks, searchBooks, error } = this.state;\n    if (error) {\n      return <div>Network error. Please try again later.</div>;\n    }\n    return (\n      <div className=\"app\">\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <ListBooks\n              bookshelves={bookshelves}\n              books={myBooks}\n              onMove={this.moveBook}\n            />\n          )}\n        />\n        <Route\n          path=\"/search\"\n          render={() => (\n            <SearchBooks\n              searchBooks={searchBooks}\n              myBooks={myBooks}\n              onSearch={this.searchForBooks}\n              onMove={this.moveBook}\n              onResetSearch={this.resetSearch}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nexport default BooksApp;\n"]},"metadata":{},"sourceType":"module"}